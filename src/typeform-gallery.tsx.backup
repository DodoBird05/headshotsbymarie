import Layout from '@/components/Layout'
import TypeformGallery from '@/components/TypeformGallery'
import matter from 'gray-matter'
import fs from 'fs'
import path from 'path'

interface TypeformGalleryPageProps {
  frontmatter: {
    gallerySection: {
      frontImages: { src: string; alt: string }[]
      backImages: { src: string; alt: string }[]
    }
  }
}

export default function TypeformGalleryPage({ frontmatter }: TypeformGalleryPageProps) {
  return (
    <Layout title="Typeform Gallery" description="Typeform Gallery page">
      <div style={{ backgroundColor: '#0f0e0d', minHeight: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
        <TypeformGallery
          frontImages={frontmatter.gallerySection.frontImages}
          backImages={frontmatter.gallerySection.backImages}
        />
      </div>
    </Layout>
  )
}

export async function getStaticProps() {
  const filePath = path.join(process.cwd(), 'content', 'home.md')
  const fileContents = fs.readFileSync(filePath, 'utf8')
  const { data } = matter(fileContents)
  return {
    props: { frontmatter: data }
  }
}
